<?xml version="1.0" encoding="utf-8"?>
<TestRun id="de42fa82-bf30-4188-bf3e-3c21adbdccf7" name="@codespaces-fe7b59 2025-11-23 13:07:41" xmlns="http://microsoft.com/schemas/VisualStudio/TeamTest/2010">
  <Times creation="2025-11-23T13:07:41.7995047+00:00" queuing="2025-11-23T13:07:41.7995048+00:00" start="2025-11-23T13:07:34.8752079+00:00" finish="2025-11-23T13:07:45.1215394+00:00" />
  <TestSettings name="default" id="00344455-4ce7-476c-8c69-c5103dcc84d8">
    <Deployment runDeploymentRoot="_codespaces-fe7b59_2025-11-23_13_07_41" />
  </TestSettings>
  <Results>
    <UnitTestResult executionId="e16ce468-1d45-4da0-8dbb-04e9e8f22ace" testId="069c30f5-1010-e41f-486e-feec0907dc73" testName="GuiaNoivas.Api.Tests.IntegrationTests.IntegrationTests.Auth_Login_Admin_CanCreateFornecedor_And_PresignMedia" computerName="codespaces-fe7b59" duration="00:00:04.1527870" startTime="2025-11-23T13:07:42.8785368+00:00" endTime="2025-11-23T13:07:42.8785370+00:00" testType="13cdc9d9-ddb5-4fa4-a97d-d965ccfc6d4b" outcome="Passed" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" relativeResultsDirectory="e16ce468-1d45-4da0-8dbb-04e9e8f22ace" />
    <UnitTestResult executionId="6bbb4a29-f970-4dcb-8b72-2d1b2eb12517" testId="7e58a52b-6bb1-83da-83c0-e417628eeded" testName="GuiaNoivas.Api.Tests.FornecedoresControllerTests.Create_Filter_Delete_CascadeMedia_Works" computerName="codespaces-fe7b59" duration="00:00:02.7266133" startTime="2025-11-23T13:07:43.3918786+00:00" endTime="2025-11-23T13:07:43.3918788+00:00" testType="13cdc9d9-ddb5-4fa4-a97d-d965ccfc6d4b" outcome="Passed" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" relativeResultsDirectory="6bbb4a29-f970-4dcb-8b72-2d1b2eb12517" />
    <UnitTestResult executionId="89660833-eb07-415a-a16b-1f63d7672a4a" testId="dcf32cff-15c7-ed5e-9dde-0bcb6897895d" testName="GuiaNoivas.Api.Tests.DatabaseSeederTests.Seed_CreatesCategories" computerName="codespaces-fe7b59" duration="00:00:00.1282309" startTime="2025-11-23T13:07:40.6652415+00:00" endTime="2025-11-23T13:07:40.6652417+00:00" testType="13cdc9d9-ddb5-4fa4-a97d-d965ccfc6d4b" outcome="Passed" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" relativeResultsDirectory="89660833-eb07-415a-a16b-1f63d7672a4a" />
    <UnitTestResult executionId="91e65071-5bc3-4e06-9083-6d330fd652b4" testId="785abbf0-13ff-125d-0661-1c87b103bcda" testName="GuiaNoivas.Api.Tests.AdminFornecedoresControllerTests.Create_CreatesFornecedor" computerName="codespaces-fe7b59" duration="00:00:01.7212774" startTime="2025-11-23T13:07:40.4503750+00:00" endTime="2025-11-23T13:07:40.4503989+00:00" testType="13cdc9d9-ddb5-4fa4-a97d-d965ccfc6d4b" outcome="Passed" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" relativeResultsDirectory="91e65071-5bc3-4e06-9083-6d330fd652b4" />
    <UnitTestResult executionId="cec87d08-a2ed-4cd8-9f42-b9efd4d7005a" testId="a2657ff3-597e-1919-dce5-850e13f2e757" testName="GuiaNoivas.Api.Tests.AdminFornecedoresControllerTests.Create_DuplicateSlug_ReturnsConflict" computerName="codespaces-fe7b59" duration="00:00:00.0882540" startTime="2025-11-23T13:07:40.5322326+00:00" endTime="2025-11-23T13:07:40.5322328+00:00" testType="13cdc9d9-ddb5-4fa4-a97d-d965ccfc6d4b" outcome="Passed" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" relativeResultsDirectory="cec87d08-a2ed-4cd8-9f42-b9efd4d7005a" />
    <UnitTestResult executionId="96ee28f7-74d6-42e9-a642-b1aa58975a3f" testId="25badbe3-bfbd-73d9-cd1f-7b365b4563ac" testName="GuiaNoivas.Api.Tests.FornecedoresControllerTests.Create_WithAtivoFlag_RespondsOnAllAndNotOnAtivos" computerName="codespaces-fe7b59" duration="00:00:00.2573692" startTime="2025-11-23T13:07:43.6498423+00:00" endTime="2025-11-23T13:07:43.6498425+00:00" testType="13cdc9d9-ddb5-4fa4-a97d-d965ccfc6d4b" outcome="Passed" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" relativeResultsDirectory="96ee28f7-74d6-42e9-a642-b1aa58975a3f" />
  </Results>
  <TestDefinitions>
    <UnitTest name="GuiaNoivas.Api.Tests.DatabaseSeederTests.Seed_CreatesCategories" storage="/workspaces/guia-noivas-api/tests/guianoivas.api.tests/bin/debug/net9.0/guianoivas.api.tests.dll" id="dcf32cff-15c7-ed5e-9dde-0bcb6897895d">
      <Execution id="89660833-eb07-415a-a16b-1f63d7672a4a" />
      <TestMethod codeBase="/workspaces/guia-noivas-api/tests/GuiaNoivas.Api.Tests/bin/Debug/net9.0/GuiaNoivas.Api.Tests.dll" adapterTypeName="executor://xunit/VsTestRunner2/netcoreapp" className="GuiaNoivas.Api.Tests.DatabaseSeederTests" name="Seed_CreatesCategories" />
    </UnitTest>
    <UnitTest name="GuiaNoivas.Api.Tests.AdminFornecedoresControllerTests.Create_CreatesFornecedor" storage="/workspaces/guia-noivas-api/tests/guianoivas.api.tests/bin/debug/net9.0/guianoivas.api.tests.dll" id="785abbf0-13ff-125d-0661-1c87b103bcda">
      <Execution id="91e65071-5bc3-4e06-9083-6d330fd652b4" />
      <TestMethod codeBase="/workspaces/guia-noivas-api/tests/GuiaNoivas.Api.Tests/bin/Debug/net9.0/GuiaNoivas.Api.Tests.dll" adapterTypeName="executor://xunit/VsTestRunner2/netcoreapp" className="GuiaNoivas.Api.Tests.AdminFornecedoresControllerTests" name="Create_CreatesFornecedor" />
    </UnitTest>
    <UnitTest name="GuiaNoivas.Api.Tests.AdminFornecedoresControllerTests.Create_DuplicateSlug_ReturnsConflict" storage="/workspaces/guia-noivas-api/tests/guianoivas.api.tests/bin/debug/net9.0/guianoivas.api.tests.dll" id="a2657ff3-597e-1919-dce5-850e13f2e757">
      <Execution id="cec87d08-a2ed-4cd8-9f42-b9efd4d7005a" />
      <TestMethod codeBase="/workspaces/guia-noivas-api/tests/GuiaNoivas.Api.Tests/bin/Debug/net9.0/GuiaNoivas.Api.Tests.dll" adapterTypeName="executor://xunit/VsTestRunner2/netcoreapp" className="GuiaNoivas.Api.Tests.AdminFornecedoresControllerTests" name="Create_DuplicateSlug_ReturnsConflict" />
    </UnitTest>
    <UnitTest name="GuiaNoivas.Api.Tests.FornecedoresControllerTests.Create_WithAtivoFlag_RespondsOnAllAndNotOnAtivos" storage="/workspaces/guia-noivas-api/tests/guianoivas.api.tests/bin/debug/net9.0/guianoivas.api.tests.dll" id="25badbe3-bfbd-73d9-cd1f-7b365b4563ac">
      <Execution id="96ee28f7-74d6-42e9-a642-b1aa58975a3f" />
      <TestMethod codeBase="/workspaces/guia-noivas-api/tests/GuiaNoivas.Api.Tests/bin/Debug/net9.0/GuiaNoivas.Api.Tests.dll" adapterTypeName="executor://xunit/VsTestRunner2/netcoreapp" className="GuiaNoivas.Api.Tests.FornecedoresControllerTests" name="Create_WithAtivoFlag_RespondsOnAllAndNotOnAtivos" />
    </UnitTest>
    <UnitTest name="GuiaNoivas.Api.Tests.IntegrationTests.IntegrationTests.Auth_Login_Admin_CanCreateFornecedor_And_PresignMedia" storage="/workspaces/guia-noivas-api/tests/guianoivas.api.tests/bin/debug/net9.0/guianoivas.api.tests.dll" id="069c30f5-1010-e41f-486e-feec0907dc73">
      <Execution id="e16ce468-1d45-4da0-8dbb-04e9e8f22ace" />
      <TestMethod codeBase="/workspaces/guia-noivas-api/tests/GuiaNoivas.Api.Tests/bin/Debug/net9.0/GuiaNoivas.Api.Tests.dll" adapterTypeName="executor://xunit/VsTestRunner2/netcoreapp" className="GuiaNoivas.Api.Tests.IntegrationTests.IntegrationTests" name="Auth_Login_Admin_CanCreateFornecedor_And_PresignMedia" />
    </UnitTest>
    <UnitTest name="GuiaNoivas.Api.Tests.FornecedoresControllerTests.Create_Filter_Delete_CascadeMedia_Works" storage="/workspaces/guia-noivas-api/tests/guianoivas.api.tests/bin/debug/net9.0/guianoivas.api.tests.dll" id="7e58a52b-6bb1-83da-83c0-e417628eeded">
      <Execution id="6bbb4a29-f970-4dcb-8b72-2d1b2eb12517" />
      <TestMethod codeBase="/workspaces/guia-noivas-api/tests/GuiaNoivas.Api.Tests/bin/Debug/net9.0/GuiaNoivas.Api.Tests.dll" adapterTypeName="executor://xunit/VsTestRunner2/netcoreapp" className="GuiaNoivas.Api.Tests.FornecedoresControllerTests" name="Create_Filter_Delete_CascadeMedia_Works" />
    </UnitTest>
  </TestDefinitions>
  <TestEntries>
    <TestEntry testId="069c30f5-1010-e41f-486e-feec0907dc73" executionId="e16ce468-1d45-4da0-8dbb-04e9e8f22ace" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" />
    <TestEntry testId="7e58a52b-6bb1-83da-83c0-e417628eeded" executionId="6bbb4a29-f970-4dcb-8b72-2d1b2eb12517" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" />
    <TestEntry testId="dcf32cff-15c7-ed5e-9dde-0bcb6897895d" executionId="89660833-eb07-415a-a16b-1f63d7672a4a" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" />
    <TestEntry testId="785abbf0-13ff-125d-0661-1c87b103bcda" executionId="91e65071-5bc3-4e06-9083-6d330fd652b4" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" />
    <TestEntry testId="a2657ff3-597e-1919-dce5-850e13f2e757" executionId="cec87d08-a2ed-4cd8-9f42-b9efd4d7005a" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" />
    <TestEntry testId="25badbe3-bfbd-73d9-cd1f-7b365b4563ac" executionId="96ee28f7-74d6-42e9-a642-b1aa58975a3f" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" />
  </TestEntries>
  <TestLists>
    <TestList name="Results Not in a List" id="8c84fa94-04c1-424b-9868-57a2d4851a1d" />
    <TestList name="All Loaded Results" id="19431567-8539-422a-85d7-44ee4e166bda" />
  </TestLists>
  <ResultSummary outcome="Completed">
    <Counters total="6" executed="6" passed="6" failed="0" error="0" timeout="0" aborted="0" inconclusive="0" passedButRunAborted="0" notRunnable="0" notExecuted="0" disconnected="0" warning="0" completed="0" inProgress="0" pending="0" />
    <Output>
      <StdOut>[xUnit.net 00:00:00.00] xUnit.net VSTest Adapter v2.4.5+1caef2f33e (64-bit .NET 9.0.11)
[xUnit.net 00:00:02.13]   Discovering: GuiaNoivas.Api.Tests
[xUnit.net 00:00:02.17]   Discovered:  GuiaNoivas.Api.Tests
[xUnit.net 00:00:02.17]   Starting:    GuiaNoivas.Api.Tests
[13:07:39 INF] Saved 0 entities to in-memory store.
[13:07:41 INF] Saved 1 entities to in-memory store.
[13:07:41 INF] Saved 5 entities to in-memory store.
[13:07:41 WRN] The WebRootPath was not found: /workspaces/guia-noivas-api/src/GuiaNoivas.Api/wwwroot. Static files may be unavailable.
[13:07:41 INF] Start installing Hangfire SQL objects...
[13:07:41 INF] Executed DbCommand (23ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
[13:07:41 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE "Categorias" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Categorias" PRIMARY KEY,
    "Nome" TEXT NOT NULL,
    "Slug" TEXT NOT NULL,
    "Descricao" TEXT NULL,
    "Order" INTEGER NOT NULL,
    "CreatedAt" TEXT NOT NULL DEFAULT (SYSUTCDATETIME()),
    "UpdatedAt" TEXT NULL
);
[13:07:41 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE "ContatoSubmissions" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_ContatoSubmissions" PRIMARY KEY,
    "FornecedorId" TEXT NULL,
    "Nome" TEXT NOT NULL,
    "Email" TEXT NOT NULL,
    "Telefone" TEXT NULL,
    "Mensagem" TEXT NOT NULL,
    "CreatedAt" TEXT NOT NULL
);
[13:07:41 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE "InstitucionalContents" (
    "Key" TEXT NOT NULL CONSTRAINT "PK_InstitucionalContents" PRIMARY KEY,
    "Title" TEXT NULL,
    "ContentHtml" TEXT NULL,
    "Version" INTEGER NOT NULL,
    "UpdatedAt" TEXT NULL
);
[13:07:41 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE "RefreshTokens" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_RefreshTokens" PRIMARY KEY,
    "UsuarioId" TEXT NOT NULL,
    "Token" TEXT NOT NULL,
    "ExpiresAt" TEXT NOT NULL,
    "Revoked" INTEGER NOT NULL,
    "CreatedAt" TEXT NOT NULL
);
[13:07:41 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE "Usuarios" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Usuarios" PRIMARY KEY,
    "Email" TEXT NOT NULL,
    "PasswordHash" TEXT NOT NULL,
    "Roles" TEXT NULL,
    "DisplayName" TEXT NULL,
    "CreatedAt" TEXT NOT NULL DEFAULT (SYSUTCDATETIME())
);
[13:07:41 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE "Fornecedores" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Fornecedores" PRIMARY KEY,
    "Nome" TEXT NOT NULL,
    "Slug" TEXT NOT NULL,
    "Descricao" TEXT NULL,
    "Cidade" TEXT NULL,
    "Telefone" TEXT NULL,
    "Email" TEXT NULL,
    "Website" TEXT NULL,
    "Destaque" INTEGER NOT NULL DEFAULT 0,
    "SeloFornecedor" INTEGER NOT NULL DEFAULT 0,
    "Rating" TEXT NULL,
    "Visitas" INTEGER NOT NULL DEFAULT 0,
    "Ativo" INTEGER NOT NULL,
    "CreatedAt" TEXT NOT NULL DEFAULT (SYSUTCDATETIME()),
    "UpdatedAt" TEXT NULL,
    "CategoriaId" TEXT NULL,
    CONSTRAINT "FK_Fornecedores_Categorias_CategoriaId" FOREIGN KEY ("CategoriaId") REFERENCES "Categorias" ("Id") ON DELETE SET NULL
);
[13:07:41 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE "Media" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Media" PRIMARY KEY,
    "FornecedorId" TEXT NULL,
    "CategoriaId" TEXT NULL,
    "Url" TEXT NULL,
    "Filename" TEXT NULL,
    "ContentType" TEXT NULL,
    "Width" INTEGER NULL,
    "Height" INTEGER NULL,
    "IsPrimary" INTEGER NOT NULL,
    "CreatedAt" TEXT NOT NULL DEFAULT (SYSUTCDATETIME()),
    CONSTRAINT "FK_Media_Categorias_CategoriaId" FOREIGN KEY ("CategoriaId") REFERENCES "Categorias" ("Id") ON DELETE SET NULL,
    CONSTRAINT "FK_Media_Fornecedores_FornecedorId" FOREIGN KEY ("FornecedorId") REFERENCES "Fornecedores" ("Id") ON DELETE CASCADE
);
[13:07:41 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Categorias_Slug" ON "Categorias" ("Slug");
[13:07:41 INF] Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX "IX_Fornecedores_CategoriaId" ON "Fornecedores" ("CategoriaId");
[13:07:41 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX "IX_Fornecedores_Cidade" ON "Fornecedores" ("Cidade");
[13:07:41 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX "IX_Fornecedores_Destaque_Rating" ON "Fornecedores" ("Destaque", "Rating");
[13:07:41 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Fornecedores_Slug" ON "Fornecedores" ("Slug");
[13:07:41 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Media_CategoriaId" ON "Media" ("CategoriaId");
[13:07:41 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX "IX_Media_FornecedorId" ON "Media" ("FornecedorId");
[13:07:41 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX "IX_Usuarios_Email" ON "Usuarios" ("Email");
[13:07:41 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
[13:07:41 INF] Executed DbCommand (5ms) [Parameters=[@__Slug_0='?' (Size = 10)], CommandType='Text', CommandTimeout='30']
SELECT "c"."Id", "c"."CreatedAt", "c"."Descricao", "c"."Nome", "c"."Order", "c"."Slug", "c"."UpdatedAt"
FROM "Categorias" AS "c"
WHERE "c"."Slug" = @__Slug_0
LIMIT 1
[13:07:41 INF] Executed DbCommand (0ms) [Parameters=[@__Slug_0='?' (Size = 10)], CommandType='Text', CommandTimeout='30']
SELECT "c"."Id", "c"."CreatedAt", "c"."Descricao", "c"."Nome", "c"."Order", "c"."Slug", "c"."UpdatedAt"
FROM "Categorias" AS "c"
WHERE "c"."Slug" = @__Slug_0
LIMIT 1
[13:07:41 INF] Executed DbCommand (0ms) [Parameters=[@__Slug_0='?' (Size = 6)], CommandType='Text', CommandTimeout='30']
SELECT "c"."Id", "c"."CreatedAt", "c"."Descricao", "c"."Nome", "c"."Order", "c"."Slug", "c"."UpdatedAt"
FROM "Categorias" AS "c"
WHERE "c"."Slug" = @__Slug_0
LIMIT 1
[13:07:41 INF] Executed DbCommand (0ms) [Parameters=[@__Slug_0='?' (Size = 11)], CommandType='Text', CommandTimeout='30']
SELECT "c"."Id", "c"."CreatedAt", "c"."Descricao", "c"."Nome", "c"."Order", "c"."Slug", "c"."UpdatedAt"
FROM "Categorias" AS "c"
WHERE "c"."Slug" = @__Slug_0
LIMIT 1
[13:07:41 INF] Executed DbCommand (0ms) [Parameters=[@__Slug_0='?' (Size = 8)], CommandType='Text', CommandTimeout='30']
SELECT "c"."Id", "c"."CreatedAt", "c"."Descricao", "c"."Nome", "c"."Order", "c"."Slug", "c"."UpdatedAt"
FROM "Categorias" AS "c"
WHERE "c"."Slug" = @__Slug_0
LIMIT 1
[13:07:42 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTimeOffset), @p2='?', @p3='?' (Size = 11), @p4='?' (DbType = Int32), @p5='?' (Size = 11), @p6='?' (DbType = DateTimeOffset)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Categorias" ("Id", "CreatedAt", "Descricao", "Nome", "Order", "Slug", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
[13:07:42 INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTimeOffset), @p2='?', @p3='?' (Size = 10), @p4='?' (DbType = Int32), @p5='?' (Size = 10), @p6='?' (DbType = DateTimeOffset)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Categorias" ("Id", "CreatedAt", "Descricao", "Nome", "Order", "Slug", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
[13:07:42 INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTimeOffset), @p2='?', @p3='?' (Size = 6), @p4='?' (DbType = Int32), @p5='?' (Size = 6), @p6='?' (DbType = DateTimeOffset)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Categorias" ("Id", "CreatedAt", "Descricao", "Nome", "Order", "Slug", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
[13:07:42 INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTimeOffset), @p2='?', @p3='?' (Size = 8), @p4='?' (DbType = Int32), @p5='?' (Size = 8), @p6='?' (DbType = DateTimeOffset)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Categorias" ("Id", "CreatedAt", "Descricao", "Nome", "Order", "Slug", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
[13:07:42 INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTimeOffset), @p2='?', @p3='?' (Size = 10), @p4='?' (DbType = Int32), @p5='?' (Size = 10), @p6='?' (DbType = DateTimeOffset)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Categorias" ("Id", "CreatedAt", "Descricao", "Nome", "Order", "Slug", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
[13:07:42 WRN] The WebRootPath was not found: /workspaces/guia-noivas-api/src/GuiaNoivas.Api/wwwroot. Static files may be unavailable.
[13:07:42 INF] Start installing Hangfire SQL objects...
[13:07:42 INF] Hangfire SQL objects installed.
[13:07:42 WRN] Storing keys in a directory '/home/codespace/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed. For more information go to https://aka.ms/aspnet/dataprotectionwarning
[13:07:42 INF] User profile is available. Using '/home/codespace/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[13:07:42 WRN] The WebRootPath was not found: /workspaces/guia-noivas-api/src/GuiaNoivas.Api/wwwroot. Static files may be unavailable.
[13:07:42 INF] Starting Hangfire Server using job storage: 'SQL Server: guia-noivas.mssql.somee.com@guia-noivas'
[13:07:42 INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
[13:07:42 INF] Using the following options for Hangfire Server:
    Worker count: 10
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
[13:07:42 INF] Hangfire SQL objects installed.
[13:07:42 WRN] Storing keys in a directory '/home/codespace/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed. For more information go to https://aka.ms/aspnet/dataprotectionwarning
[13:07:42 INF] User profile is available. Using '/home/codespace/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[13:07:42 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/admin/fornecedores - application/json; charset=utf-8 225
[13:07:42 INF] Server codespaces-fe7b59:24478:20e95193 successfully announced in 131.8544 ms
[13:07:42 INF] Server codespaces-fe7b59:24478:20e95193 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, SqlServerHeartbeatProcess, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
[13:07:42 INF] Server codespaces-fe7b59:24478:20e95193 all the dispatchers started
[13:07:42 INF] Executing endpoint 'GuiaNoivas.Api.Controllers.AdminFornecedoresController.Create (GuiaNoivas.Api)'
[13:07:42 INF] Route matched with {action = "Create", controller = "AdminFornecedores"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(GuiaNoivas.Api.Controllers.CreateFornecedorDto) on controller GuiaNoivas.Api.Controllers.AdminFornecedoresController (GuiaNoivas.Api).
[13:07:42 INF] Saved 1 entities to in-memory store.
[13:07:42 INF] Executing CreatedAtActionResult, writing value of type 'GuiaNoivas.Api.Models.Fornecedor'.
[13:07:42 INF] Executed action GuiaNoivas.Api.Controllers.AdminFornecedoresController.Create (GuiaNoivas.Api) in 76.7295ms
[13:07:42 INF] Executed endpoint 'GuiaNoivas.Api.Controllers.AdminFornecedoresController.Create (GuiaNoivas.Api)'
[13:07:42 INF] HTTP POST /api/v1/admin/fornecedores responded 201 in 200.2870 ms
[13:07:42 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/admin/fornecedores - 201 447 application/json; charset=utf-8 242.2508ms
[13:07:42 WRN] The WebRootPath was not found: /workspaces/guia-noivas-api/src/GuiaNoivas.Api/wwwroot. Static files may be unavailable.
[13:07:42 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/media/upload - multipart/form-data; boundary="f6fe7f3d-e0f7-4ca2-b764-eb0451c7355c" 674
[13:07:42 INF] Starting Hangfire Server using job storage: 'SQL Server: guia-noivas.mssql.somee.com@guia-noivas'
[13:07:42 INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
[13:07:42 INF] Using the following options for Hangfire Server:
    Worker count: 10
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
[13:07:42 INF] Executing endpoint 'GuiaNoivas.Api.Controllers.MediaController.Upload (GuiaNoivas.Api)'
[13:07:42 INF] Route matched with {action = "Upload", controller = "Media"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Upload(GuiaNoivas.Api.Controllers.MediaUploadDto) on controller GuiaNoivas.Api.Controllers.MediaController (GuiaNoivas.Api).
[13:07:42 INF] Server codespaces-fe7b59:24478:52a46f91 successfully announced in 20.4864 ms
[13:07:42 INF] Server codespaces-fe7b59:24478:52a46f91 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, SqlServerHeartbeatProcess, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
[13:07:42 INF] Server codespaces-fe7b59:24478:52a46f91 all the dispatchers started
[13:07:42 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
[13:07:42 INF] Saved 1 entities to in-memory store.
[13:07:42 INF] Executing CreatedAtActionResult, writing value of type 'GuiaNoivas.Api.Models.Media'.
[13:07:42 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE "Categorias" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Categorias" PRIMARY KEY,
    "Nome" TEXT NOT NULL,
    "Slug" TEXT NOT NULL,
    "Descricao" TEXT NULL,
    "Order" INTEGER NOT NULL,
    "CreatedAt" TEXT NOT NULL DEFAULT (SYSUTCDATETIME()),
    "UpdatedAt" TEXT NULL
);
[13:07:42 INF] Executed action GuiaNoivas.Api.Controllers.MediaController.Upload (GuiaNoivas.Api) in 129.1478ms
[13:07:42 INF] Executed endpoint 'GuiaNoivas.Api.Controllers.MediaController.Upload (GuiaNoivas.Api)'
[13:07:42 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE "ContatoSubmissions" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_ContatoSubmissions" PRIMARY KEY,
    "FornecedorId" TEXT NULL,
    "Nome" TEXT NOT NULL,
    "Email" TEXT NOT NULL,
    "Telefone" TEXT NULL,
    "Mensagem" TEXT NOT NULL,
    "CreatedAt" TEXT NOT NULL
);
[13:07:42 INF] HTTP POST /api/v1/media/upload responded 201 in 187.8411 ms
[13:07:42 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/media/upload - 201 391 application/json; charset=utf-8 194.8806ms
[13:07:42 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE "InstitucionalContents" (
    "Key" TEXT NOT NULL CONSTRAINT "PK_InstitucionalContents" PRIMARY KEY,
    "Title" TEXT NULL,
    "ContentHtml" TEXT NULL,
    "Version" INTEGER NOT NULL,
    "UpdatedAt" TEXT NULL
);
[13:07:42 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE "RefreshTokens" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_RefreshTokens" PRIMARY KEY,
    "UsuarioId" TEXT NOT NULL,
    "Token" TEXT NOT NULL,
    "ExpiresAt" TEXT NOT NULL,
    "Revoked" INTEGER NOT NULL,
    "CreatedAt" TEXT NOT NULL
);
[13:07:42 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE "Usuarios" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Usuarios" PRIMARY KEY,
    "Email" TEXT NOT NULL,
    "PasswordHash" TEXT NOT NULL,
    "Roles" TEXT NULL,
    "DisplayName" TEXT NULL,
    "CreatedAt" TEXT NOT NULL DEFAULT (SYSUTCDATETIME())
);
[13:07:42 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE "Fornecedores" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Fornecedores" PRIMARY KEY,
    "Nome" TEXT NOT NULL,
    "Slug" TEXT NOT NULL,
    "Descricao" TEXT NULL,
    "Cidade" TEXT NULL,
    "Telefone" TEXT NULL,
    "Email" TEXT NULL,
    "Website" TEXT NULL,
    "Destaque" INTEGER NOT NULL DEFAULT 0,
    "SeloFornecedor" INTEGER NOT NULL DEFAULT 0,
    "Rating" TEXT NULL,
    "Visitas" INTEGER NOT NULL DEFAULT 0,
    "Ativo" INTEGER NOT NULL,
    "CreatedAt" TEXT NOT NULL DEFAULT (SYSUTCDATETIME()),
    "UpdatedAt" TEXT NULL,
    "CategoriaId" TEXT NULL,
    CONSTRAINT "FK_Fornecedores_Categorias_CategoriaId" FOREIGN KEY ("CategoriaId") REFERENCES "Categorias" ("Id") ON DELETE SET NULL
);
[13:07:42 INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE "Media" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Media" PRIMARY KEY,
    "FornecedorId" TEXT NULL,
    "CategoriaId" TEXT NULL,
    "Url" TEXT NULL,
    "Filename" TEXT NULL,
    "ContentType" TEXT NULL,
    "Width" INTEGER NULL,
    "Height" INTEGER NULL,
    "IsPrimary" INTEGER NOT NULL,
    "CreatedAt" TEXT NOT NULL DEFAULT (SYSUTCDATETIME()),
    CONSTRAINT "FK_Media_Categorias_CategoriaId" FOREIGN KEY ("CategoriaId") REFERENCES "Categorias" ("Id") ON DELETE SET NULL,
    CONSTRAINT "FK_Media_Fornecedores_FornecedorId" FOREIGN KEY ("FornecedorId") REFERENCES "Fornecedores" ("Id") ON DELETE CASCADE
);
[13:07:42 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Categorias_Slug" ON "Categorias" ("Slug");
[13:07:42 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX "IX_Fornecedores_CategoriaId" ON "Fornecedores" ("CategoriaId");
[13:07:42 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX "IX_Fornecedores_Cidade" ON "Fornecedores" ("Cidade");
[13:07:42 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX "IX_Fornecedores_Destaque_Rating" ON "Fornecedores" ("Destaque", "Rating");
[13:07:42 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Fornecedores_Slug" ON "Fornecedores" ("Slug");
[13:07:42 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Media_CategoriaId" ON "Media" ("CategoriaId");
[13:07:42 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX "IX_Media_FornecedorId" ON "Media" ("FornecedorId");
[13:07:42 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX "IX_Usuarios_Email" ON "Usuarios" ("Email");
[13:07:42 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
[13:07:42 INF] Executed DbCommand (0ms) [Parameters=[@__Slug_0='?' (Size = 10)], CommandType='Text', CommandTimeout='30']
SELECT "c"."Id", "c"."CreatedAt", "c"."Descricao", "c"."Nome", "c"."Order", "c"."Slug", "c"."UpdatedAt"
FROM "Categorias" AS "c"
WHERE "c"."Slug" = @__Slug_0
LIMIT 1
[13:07:42 INF] Server codespaces-fe7b59:24478:20e95193 caught stopping signal...
[13:07:42 INF] Executed DbCommand (6ms) [Parameters=[@__Slug_0='?' (Size = 10)], CommandType='Text', CommandTimeout='30']
SELECT "c"."Id", "c"."CreatedAt", "c"."Descricao", "c"."Nome", "c"."Order", "c"."Slug", "c"."UpdatedAt"
FROM "Categorias" AS "c"
WHERE "c"."Slug" = @__Slug_0
LIMIT 1
[13:07:42 INF] Executed DbCommand (0ms) [Parameters=[@__Slug_0='?' (Size = 6)], CommandType='Text', CommandTimeout='30']
SELECT "c"."Id", "c"."CreatedAt", "c"."Descricao", "c"."Nome", "c"."Order", "c"."Slug", "c"."UpdatedAt"
FROM "Categorias" AS "c"
WHERE "c"."Slug" = @__Slug_0
LIMIT 1
[13:07:42 INF] Executed DbCommand (0ms) [Parameters=[@__Slug_0='?' (Size = 11)], CommandType='Text', CommandTimeout='30']
SELECT "c"."Id", "c"."CreatedAt", "c"."Descricao", "c"."Nome", "c"."Order", "c"."Slug", "c"."UpdatedAt"
FROM "Categorias" AS "c"
WHERE "c"."Slug" = @__Slug_0
LIMIT 1
[13:07:42 INF] Executed DbCommand (0ms) [Parameters=[@__Slug_0='?' (Size = 8)], CommandType='Text', CommandTimeout='30']
SELECT "c"."Id", "c"."CreatedAt", "c"."Descricao", "c"."Nome", "c"."Order", "c"."Slug", "c"."UpdatedAt"
FROM "Categorias" AS "c"
WHERE "c"."Slug" = @__Slug_0
LIMIT 1
[13:07:42 INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTimeOffset), @p2='?', @p3='?' (Size = 6), @p4='?' (DbType = Int32), @p5='?' (Size = 6), @p6='?' (DbType = DateTimeOffset)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Categorias" ("Id", "CreatedAt", "Descricao", "Nome", "Order", "Slug", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
[13:07:42 INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTimeOffset), @p2='?', @p3='?' (Size = 11), @p4='?' (DbType = Int32), @p5='?' (Size = 11), @p6='?' (DbType = DateTimeOffset)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Categorias" ("Id", "CreatedAt", "Descricao", "Nome", "Order", "Slug", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
[13:07:42 INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTimeOffset), @p2='?', @p3='?' (Size = 10), @p4='?' (DbType = Int32), @p5='?' (Size = 10), @p6='?' (DbType = DateTimeOffset)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Categorias" ("Id", "CreatedAt", "Descricao", "Nome", "Order", "Slug", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
[13:07:42 INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTimeOffset), @p2='?', @p3='?' (Size = 10), @p4='?' (DbType = Int32), @p5='?' (Size = 10), @p6='?' (DbType = DateTimeOffset)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Categorias" ("Id", "CreatedAt", "Descricao", "Nome", "Order", "Slug", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
[13:07:42 INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTimeOffset), @p2='?', @p3='?' (Size = 8), @p4='?' (DbType = Int32), @p5='?' (Size = 8), @p6='?' (DbType = DateTimeOffset)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Categorias" ("Id", "CreatedAt", "Descricao", "Nome", "Order", "Slug", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
[13:07:42 WRN] The WebRootPath was not found: /workspaces/guia-noivas-api/src/GuiaNoivas.Api/wwwroot. Static files may be unavailable.
[13:07:42 INF] Start installing Hangfire SQL objects...
[13:07:42 INF] Hangfire SQL objects installed.
[13:07:42 WRN] Storing keys in a directory '/home/codespace/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed. For more information go to https://aka.ms/aspnet/dataprotectionwarning
[13:07:42 INF] User profile is available. Using '/home/codespace/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[13:07:42 WRN] The WebRootPath was not found: /workspaces/guia-noivas-api/src/GuiaNoivas.Api/wwwroot. Static files may be unavailable.
[13:07:42 INF] Starting Hangfire Server using job storage: 'SQL Server: guia-noivas.mssql.somee.com@guia-noivas'
[13:07:42 INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
[13:07:42 INF] Using the following options for Hangfire Server:
    Worker count: 10
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
[13:07:43 INF] Server codespaces-fe7b59:24478:9e6b814b successfully announced in 21.9181 ms
[13:07:43 INF] Server codespaces-fe7b59:24478:9e6b814b is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, SqlServerHeartbeatProcess, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
[13:07:43 INF] Server codespaces-fe7b59:24478:9e6b814b all the dispatchers started
[13:07:43 INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTimeOffset), @p2='?', @p3='?' (Size = 8), @p4='?' (DbType = Int32), @p5='?' (Size = 8), @p6='?' (DbType = DateTimeOffset)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Categorias" ("Id", "CreatedAt", "Descricao", "Nome", "Order", "Slug", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
[13:07:43 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/fornecedores - application/json; charset=utf-8 123
[13:07:43 INF] Executing endpoint 'GuiaNoivas.Api.Controllers.FornecedoresController.Create (GuiaNoivas.Api)'
[13:07:43 INF] Route matched with {action = "Create", controller = "Fornecedores"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(GuiaNoivas.Api.Dtos.FornecedorCreateDto) on controller GuiaNoivas.Api.Controllers.FornecedoresController (GuiaNoivas.Api).
[13:07:43 INF] Executed DbCommand (0ms) [Parameters=[@__dto_Slug_0='?' (Size = 15)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Fornecedores" AS "f"
    WHERE "f"."Slug" = @__dto_Slug_0)
[13:07:43 INF] Executed DbCommand (0ms) [Parameters=[@__dto_CategoriaId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Categorias" AS "c"
    WHERE "c"."Id" = @__dto_CategoriaId_0)
[13:07:43 INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Boolean), @p2='?' (DbType = Guid), @p3='?', @p4='?' (DbType = DateTimeOffset), @p5='?' (Size = 4), @p6='?', @p7='?' (Size = 15), @p8='?' (DbType = Decimal), @p9='?' (Size = 15), @p10='?', @p11='?' (DbType = DateTimeOffset), @p12='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "Fornecedores" ("Id", "Ativo", "CategoriaId", "Cidade", "CreatedAt", "Descricao", "Email", "Nome", "Rating", "Slug", "Telefone", "UpdatedAt", "Website")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12)
RETURNING "Destaque", "SeloFornecedor", "Visitas";
[13:07:43 INF] Executing CreatedAtActionResult, writing value of type '&lt;&gt;f__AnonymousType9`1[[System.Guid, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[13:07:43 INF] Executed action GuiaNoivas.Api.Controllers.FornecedoresController.Create (GuiaNoivas.Api) in 85.6075ms
[13:07:43 INF] Executed endpoint 'GuiaNoivas.Api.Controllers.FornecedoresController.Create (GuiaNoivas.Api)'
[13:07:43 INF] HTTP POST /api/v1/fornecedores responded 201 in 99.2268 ms
[13:07:43 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/fornecedores - 201 45 application/json; charset=utf-8 100.2383ms
[13:07:43 INF] Request starting HTTP/1.1 GET http://localhost/api/v1/fornecedores?categoriaId=59081b31-0a30-4ce4-87d7-346978737e73 - null null
[13:07:43 INF] Executing endpoint 'GuiaNoivas.Api.Controllers.FornecedoresController.Get (GuiaNoivas.Api)'
[13:07:43 INF] Route matched with {action = "Get", controller = "Fornecedores"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32, Int32, System.Nullable`1[System.Guid]) on controller GuiaNoivas.Api.Controllers.FornecedoresController (GuiaNoivas.Api).
[13:07:43 INF] Executed DbCommand (0ms) [Parameters=[@__categoriaId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM "Fornecedores" AS "f"
WHERE "f"."CategoriaId" = @__categoriaId_0
[13:07:43 INF] Executed DbCommand (1ms) [Parameters=[@__categoriaId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "t"."Id", "t"."Nome", "t"."Slug", "t"."Descricao", "t"."Cidade", "t"."Rating", "t"."Destaque", "t"."SeloFornecedor", "t"."Ativo", "c"."Id" IS NULL, "c"."Id", "c"."Nome", "c"."Slug", "t0"."Id", "m0"."Id", "m0"."Url", "m0"."Filename", "m0"."ContentType", "m0"."IsPrimary", "t0"."Url", "t0"."Filename", "t0"."ContentType", "t0"."IsPrimary", "t0"."c"
FROM (
    SELECT "f"."Id", "f"."Ativo", "f"."CategoriaId", "f"."Cidade", "f"."Descricao", "f"."Destaque", "f"."Nome", "f"."Rating", "f"."SeloFornecedor", "f"."Slug"
    FROM "Fornecedores" AS "f"
    WHERE "f"."CategoriaId" = @__categoriaId_0
    ORDER BY "f"."Destaque" DESC
    LIMIT @__p_2 OFFSET @__p_1
) AS "t"
LEFT JOIN "Categorias" AS "c" ON "t"."CategoriaId" = "c"."Id"
LEFT JOIN (
    SELECT "t1"."Id", "t1"."Url", "t1"."Filename", "t1"."ContentType", "t1"."IsPrimary", "t1"."c", "t1"."FornecedorId"
    FROM (
        SELECT "m"."Id", "m"."Url", "m"."Filename", "m"."ContentType", "m"."IsPrimary", 1 AS "c", "m"."FornecedorId", ROW_NUMBER() OVER(PARTITION BY "m"."FornecedorId" ORDER BY "m"."IsPrimary" DESC) AS "row"
        FROM "Media" AS "m"
    ) AS "t1"
    WHERE "t1"."row" &lt;= 1
) AS "t0" ON "t"."Id" = "t0"."FornecedorId"
LEFT JOIN "Media" AS "m0" ON "t"."Id" = "m0"."FornecedorId"
ORDER BY "t"."Destaque" DESC, "t"."Id", "c"."Id", "t0"."Id", "m0"."IsPrimary" DESC
[13:07:43 INF] Executing OkObjectResult, writing value of type '&lt;&gt;f__AnonymousType7`2[[System.Collections.Generic.List`1[[GuiaNoivas.Api.Dtos.FornecedorListDto, GuiaNoivas.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[&lt;&gt;f__AnonymousType8`3[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], GuiaNoivas.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[13:07:43 INF] Executed action GuiaNoivas.Api.Controllers.FornecedoresController.Get (GuiaNoivas.Api) in 124.321ms
[13:07:43 INF] Executed endpoint 'GuiaNoivas.Api.Controllers.FornecedoresController.Get (GuiaNoivas.Api)'
[13:07:43 INF] HTTP GET /api/v1/fornecedores responded 200 in 132.2865 ms
[13:07:43 INF] Request finished HTTP/1.1 GET http://localhost/api/v1/fornecedores?categoriaId=59081b31-0a30-4ce4-87d7-346978737e73 - 200 376 application/json; charset=utf-8 132.6665ms
[13:07:43 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT "f"."Id", "f"."Ativo", "f"."CategoriaId", "f"."Cidade", "f"."CreatedAt", "f"."Descricao", "f"."Destaque", "f"."Email", "f"."Nome", "f"."Rating", "f"."SeloFornecedor", "f"."Slug", "f"."Telefone", "f"."UpdatedAt", "f"."Visitas", "f"."Website"
FROM "Fornecedores" AS "f"
WHERE "f"."Slug" = 'fornecedor-test'
LIMIT 1
[13:07:43 INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (Size = 10), @p3='?' (DbType = DateTimeOffset), @p4='?' (Size = 5), @p5='?' (DbType = Guid), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (Size = 8), @p9='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Media" ("Id", "CategoriaId", "ContentType", "CreatedAt", "Filename", "FornecedorId", "Height", "IsPrimary", "Url", "Width")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
[13:07:43 INF] Request starting HTTP/1.1 DELETE http://localhost/api/v1/fornecedores/7359b119-a997-4328-b738-e82aa020109b - null null
[13:07:43 INF] Executing endpoint 'GuiaNoivas.Api.Controllers.FornecedoresController.Delete (GuiaNoivas.Api)'
[13:07:43 INF] Route matched with {action = "Delete", controller = "Fornecedores"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(System.Guid) on controller GuiaNoivas.Api.Controllers.FornecedoresController (GuiaNoivas.Api).
[13:07:43 INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "f"."Id", "f"."Ativo", "f"."CategoriaId", "f"."Cidade", "f"."CreatedAt", "f"."Descricao", "f"."Destaque", "f"."Email", "f"."Nome", "f"."Rating", "f"."SeloFornecedor", "f"."Slug", "f"."Telefone", "f"."UpdatedAt", "f"."Visitas", "f"."Website"
FROM "Fornecedores" AS "f"
WHERE "f"."Id" = @__get_Item_0
LIMIT 1
[13:07:43 INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
DELETE FROM "Fornecedores"
WHERE "Id" = @p0
RETURNING 1;
[13:07:43 INF] Executing StatusCodeResult, setting HTTP status code 204
[13:07:43 INF] Executed action GuiaNoivas.Api.Controllers.FornecedoresController.Delete (GuiaNoivas.Api) in 25.5654ms
[13:07:43 INF] Executed endpoint 'GuiaNoivas.Api.Controllers.FornecedoresController.Delete (GuiaNoivas.Api)'
[13:07:43 INF] HTTP DELETE /api/v1/fornecedores/7359b119-a997-4328-b738-e82aa020109b responded 204 in 31.7877 ms
[13:07:43 INF] Request finished HTTP/1.1 DELETE http://localhost/api/v1/fornecedores/7359b119-a997-4328-b738-e82aa020109b - 204 null null 32.0789ms
[13:07:43 INF] Executed DbCommand (0ms) [Parameters=[@__fornecedorId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT "m"."Id", "m"."CategoriaId", "m"."ContentType", "m"."CreatedAt", "m"."Filename", "m"."FornecedorId", "m"."Height", "m"."IsPrimary", "m"."Url", "m"."Width"
FROM "Media" AS "m"
WHERE "m"."FornecedorId" = @__fornecedorId_0
[13:07:43 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
[13:07:43 INF] Server codespaces-fe7b59:24478:20e95193 caught stopped signal...
[13:07:43 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE "Categorias" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Categorias" PRIMARY KEY,
    "Nome" TEXT NOT NULL,
    "Slug" TEXT NOT NULL,
    "Descricao" TEXT NULL,
    "Order" INTEGER NOT NULL,
    "CreatedAt" TEXT NOT NULL DEFAULT (SYSUTCDATETIME()),
    "UpdatedAt" TEXT NULL
);
[13:07:43 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE "ContatoSubmissions" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_ContatoSubmissions" PRIMARY KEY,
    "FornecedorId" TEXT NULL,
    "Nome" TEXT NOT NULL,
    "Email" TEXT NOT NULL,
    "Telefone" TEXT NULL,
    "Mensagem" TEXT NOT NULL,
    "CreatedAt" TEXT NOT NULL
);
[13:07:43 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE "InstitucionalContents" (
    "Key" TEXT NOT NULL CONSTRAINT "PK_InstitucionalContents" PRIMARY KEY,
    "Title" TEXT NULL,
    "ContentHtml" TEXT NULL,
    "Version" INTEGER NOT NULL,
    "UpdatedAt" TEXT NULL
);
[13:07:43 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE "RefreshTokens" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_RefreshTokens" PRIMARY KEY,
    "UsuarioId" TEXT NOT NULL,
    "Token" TEXT NOT NULL,
    "ExpiresAt" TEXT NOT NULL,
    "Revoked" INTEGER NOT NULL,
    "CreatedAt" TEXT NOT NULL
);
[13:07:43 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE "Usuarios" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Usuarios" PRIMARY KEY,
    "Email" TEXT NOT NULL,
    "PasswordHash" TEXT NOT NULL,
    "Roles" TEXT NULL,
    "DisplayName" TEXT NULL,
    "CreatedAt" TEXT NOT NULL DEFAULT (SYSUTCDATETIME())
);
[13:07:43 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE "Fornecedores" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Fornecedores" PRIMARY KEY,
    "Nome" TEXT NOT NULL,
    "Slug" TEXT NOT NULL,
    "Descricao" TEXT NULL,
    "Cidade" TEXT NULL,
    "Telefone" TEXT NULL,
    "Email" TEXT NULL,
    "Website" TEXT NULL,
    "Destaque" INTEGER NOT NULL DEFAULT 0,
    "SeloFornecedor" INTEGER NOT NULL DEFAULT 0,
    "Rating" TEXT NULL,
    "Visitas" INTEGER NOT NULL DEFAULT 0,
    "Ativo" INTEGER NOT NULL,
    "CreatedAt" TEXT NOT NULL DEFAULT (SYSUTCDATETIME()),
    "UpdatedAt" TEXT NULL,
    "CategoriaId" TEXT NULL,
    CONSTRAINT "FK_Fornecedores_Categorias_CategoriaId" FOREIGN KEY ("CategoriaId") REFERENCES "Categorias" ("Id") ON DELETE SET NULL
);
[13:07:43 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE "Media" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Media" PRIMARY KEY,
    "FornecedorId" TEXT NULL,
    "CategoriaId" TEXT NULL,
    "Url" TEXT NULL,
    "Filename" TEXT NULL,
    "ContentType" TEXT NULL,
    "Width" INTEGER NULL,
    "Height" INTEGER NULL,
    "IsPrimary" INTEGER NOT NULL,
    "CreatedAt" TEXT NOT NULL DEFAULT (SYSUTCDATETIME()),
    CONSTRAINT "FK_Media_Categorias_CategoriaId" FOREIGN KEY ("CategoriaId") REFERENCES "Categorias" ("Id") ON DELETE SET NULL,
    CONSTRAINT "FK_Media_Fornecedores_FornecedorId" FOREIGN KEY ("FornecedorId") REFERENCES "Fornecedores" ("Id") ON DELETE CASCADE
);
[13:07:43 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Categorias_Slug" ON "Categorias" ("Slug");
[13:07:43 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX "IX_Fornecedores_CategoriaId" ON "Fornecedores" ("CategoriaId");
[13:07:43 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX "IX_Fornecedores_Cidade" ON "Fornecedores" ("Cidade");
[13:07:43 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX "IX_Fornecedores_Destaque_Rating" ON "Fornecedores" ("Destaque", "Rating");
[13:07:43 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Fornecedores_Slug" ON "Fornecedores" ("Slug");
[13:07:43 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Media_CategoriaId" ON "Media" ("CategoriaId");
[13:07:43 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX "IX_Media_FornecedorId" ON "Media" ("FornecedorId");
[13:07:43 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX "IX_Usuarios_Email" ON "Usuarios" ("Email");
[13:07:43 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
[13:07:43 INF] Executed DbCommand (0ms) [Parameters=[@__Slug_0='?' (Size = 10)], CommandType='Text', CommandTimeout='30']
SELECT "c"."Id", "c"."CreatedAt", "c"."Descricao", "c"."Nome", "c"."Order", "c"."Slug", "c"."UpdatedAt"
FROM "Categorias" AS "c"
WHERE "c"."Slug" = @__Slug_0
LIMIT 1
[13:07:43 INF] Executed DbCommand (0ms) [Parameters=[@__Slug_0='?' (Size = 10)], CommandType='Text', CommandTimeout='30']
SELECT "c"."Id", "c"."CreatedAt", "c"."Descricao", "c"."Nome", "c"."Order", "c"."Slug", "c"."UpdatedAt"
FROM "Categorias" AS "c"
WHERE "c"."Slug" = @__Slug_0
LIMIT 1
[13:07:43 INF] Executed DbCommand (0ms) [Parameters=[@__Slug_0='?' (Size = 6)], CommandType='Text', CommandTimeout='30']
SELECT "c"."Id", "c"."CreatedAt", "c"."Descricao", "c"."Nome", "c"."Order", "c"."Slug", "c"."UpdatedAt"
FROM "Categorias" AS "c"
WHERE "c"."Slug" = @__Slug_0
LIMIT 1
[13:07:43 INF] Executed DbCommand (0ms) [Parameters=[@__Slug_0='?' (Size = 11)], CommandType='Text', CommandTimeout='30']
SELECT "c"."Id", "c"."CreatedAt", "c"."Descricao", "c"."Nome", "c"."Order", "c"."Slug", "c"."UpdatedAt"
FROM "Categorias" AS "c"
WHERE "c"."Slug" = @__Slug_0
LIMIT 1
[13:07:43 INF] Executed DbCommand (0ms) [Parameters=[@__Slug_0='?' (Size = 8)], CommandType='Text', CommandTimeout='30']
SELECT "c"."Id", "c"."CreatedAt", "c"."Descricao", "c"."Nome", "c"."Order", "c"."Slug", "c"."UpdatedAt"
FROM "Categorias" AS "c"
WHERE "c"."Slug" = @__Slug_0
LIMIT 1
[13:07:43 INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTimeOffset), @p2='?', @p3='?' (Size = 8), @p4='?' (DbType = Int32), @p5='?' (Size = 8), @p6='?' (DbType = DateTimeOffset)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Categorias" ("Id", "CreatedAt", "Descricao", "Nome", "Order", "Slug", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
[13:07:43 INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTimeOffset), @p2='?', @p3='?' (Size = 10), @p4='?' (DbType = Int32), @p5='?' (Size = 10), @p6='?' (DbType = DateTimeOffset)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Categorias" ("Id", "CreatedAt", "Descricao", "Nome", "Order", "Slug", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
[13:07:43 INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTimeOffset), @p2='?', @p3='?' (Size = 10), @p4='?' (DbType = Int32), @p5='?' (Size = 10), @p6='?' (DbType = DateTimeOffset)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Categorias" ("Id", "CreatedAt", "Descricao", "Nome", "Order", "Slug", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
[13:07:43 INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTimeOffset), @p2='?', @p3='?' (Size = 11), @p4='?' (DbType = Int32), @p5='?' (Size = 11), @p6='?' (DbType = DateTimeOffset)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Categorias" ("Id", "CreatedAt", "Descricao", "Nome", "Order", "Slug", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
[13:07:43 INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTimeOffset), @p2='?', @p3='?' (Size = 6), @p4='?' (DbType = Int32), @p5='?' (Size = 6), @p6='?' (DbType = DateTimeOffset)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Categorias" ("Id", "CreatedAt", "Descricao", "Nome", "Order", "Slug", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
[13:07:43 WRN] The WebRootPath was not found: /workspaces/guia-noivas-api/src/GuiaNoivas.Api/wwwroot. Static files may be unavailable.
[13:07:43 INF] Server codespaces-fe7b59:24478:20e95193 All dispatchers stopped
[13:07:43 INF] Start installing Hangfire SQL objects...
[13:07:43 INF] Server codespaces-fe7b59:24478:20e95193 successfully reported itself as stopped in 17.3443 ms
[13:07:43 INF] Server codespaces-fe7b59:24478:20e95193 has been stopped in total 590.3058 ms
[13:07:43 INF] Hangfire SQL objects installed.
[13:07:43 WRN] Storing keys in a directory '/home/codespace/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed. For more information go to https://aka.ms/aspnet/dataprotectionwarning
[13:07:43 INF] User profile is available. Using '/home/codespace/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[13:07:43 WRN] The WebRootPath was not found: /workspaces/guia-noivas-api/src/GuiaNoivas.Api/wwwroot. Static files may be unavailable.
[13:07:43 INF] Starting Hangfire Server using job storage: 'SQL Server: guia-noivas.mssql.somee.com@guia-noivas'
[13:07:43 INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
[13:07:43 INF] Using the following options for Hangfire Server:
    Worker count: 10
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
[13:07:43 INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTimeOffset), @p2='?', @p3='?' (Size = 5), @p4='?' (DbType = Int32), @p5='?' (Size = 5), @p6='?' (DbType = DateTimeOffset)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Categorias" ("Id", "CreatedAt", "Descricao", "Nome", "Order", "Slug", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
[13:07:43 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/fornecedores - application/json; charset=utf-8 143
[13:07:43 INF] Executing endpoint 'GuiaNoivas.Api.Controllers.FornecedoresController.Create (GuiaNoivas.Api)'
[13:07:43 INF] Route matched with {action = "Create", controller = "Fornecedores"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(GuiaNoivas.Api.Dtos.FornecedorCreateDto) on controller GuiaNoivas.Api.Controllers.FornecedoresController (GuiaNoivas.Api).
[13:07:43 INF] Server codespaces-fe7b59:24478:5ba984d1 successfully announced in 17.0571 ms
[13:07:43 INF] Executed DbCommand (1ms) [Parameters=[@__dto_Slug_0='?' (Size = 18)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Fornecedores" AS "f"
    WHERE "f"."Slug" = @__dto_Slug_0)
[13:07:43 INF] Executed DbCommand (0ms) [Parameters=[@__dto_CategoriaId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Categorias" AS "c"
    WHERE "c"."Id" = @__dto_CategoriaId_0)
[13:07:43 INF] Server codespaces-fe7b59:24478:5ba984d1 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, SqlServerHeartbeatProcess, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
[13:07:43 INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Boolean), @p2='?' (DbType = Guid), @p3='?', @p4='?' (DbType = DateTimeOffset), @p5='?' (Size = 4), @p6='?', @p7='?' (Size = 18), @p8='?' (DbType = Decimal), @p9='?' (Size = 18), @p10='?', @p11='?' (DbType = DateTimeOffset), @p12='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "Fornecedores" ("Id", "Ativo", "CategoriaId", "Cidade", "CreatedAt", "Descricao", "Email", "Nome", "Rating", "Slug", "Telefone", "UpdatedAt", "Website")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12)
RETURNING "Destaque", "SeloFornecedor", "Visitas";
[13:07:43 INF] Executing CreatedAtActionResult, writing value of type '&lt;&gt;f__AnonymousType9`1[[System.Guid, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[13:07:43 INF] Executed action GuiaNoivas.Api.Controllers.FornecedoresController.Create (GuiaNoivas.Api) in 11.9229ms
[13:07:43 INF] Executed endpoint 'GuiaNoivas.Api.Controllers.FornecedoresController.Create (GuiaNoivas.Api)'
[13:07:43 INF] HTTP POST /api/v1/fornecedores responded 201 in 20.7645 ms
[13:07:43 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/fornecedores - 201 45 application/json; charset=utf-8 21.0076ms
[13:07:43 INF] Request starting HTTP/1.1 GET http://localhost/api/v1/fornecedores/all - null null
[13:07:43 INF] Server codespaces-fe7b59:24478:5ba984d1 all the dispatchers started
[13:07:43 INF] Executing endpoint 'GuiaNoivas.Api.Controllers.FornecedoresController.GetAll (GuiaNoivas.Api)'
[13:07:43 INF] Route matched with {action = "GetAll", controller = "Fornecedores"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller GuiaNoivas.Api.Controllers.FornecedoresController (GuiaNoivas.Api).
[13:07:43 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT "f"."Id", "f"."Nome", "f"."Slug", "f"."Descricao", "f"."Cidade", "f"."Rating", "f"."Destaque", "f"."SeloFornecedor", "f"."Ativo", "c"."Id" IS NULL, "c"."Id", "c"."Nome", "c"."Slug", "t0"."Id", "m0"."Id", "m0"."Url", "m0"."Filename", "m0"."ContentType", "m0"."IsPrimary", "t0"."Url", "t0"."Filename", "t0"."ContentType", "t0"."IsPrimary", "t0"."c"
FROM "Fornecedores" AS "f"
LEFT JOIN "Categorias" AS "c" ON "f"."CategoriaId" = "c"."Id"
LEFT JOIN (
    SELECT "t"."Id", "t"."Url", "t"."Filename", "t"."ContentType", "t"."IsPrimary", "t"."c", "t"."FornecedorId"
    FROM (
        SELECT "m"."Id", "m"."Url", "m"."Filename", "m"."ContentType", "m"."IsPrimary", 1 AS "c", "m"."FornecedorId", ROW_NUMBER() OVER(PARTITION BY "m"."FornecedorId" ORDER BY "m"."IsPrimary" DESC) AS "row"
        FROM "Media" AS "m"
    ) AS "t"
    WHERE "t"."row" &lt;= 1
) AS "t0" ON "f"."Id" = "t0"."FornecedorId"
LEFT JOIN "Media" AS "m0" ON "f"."Id" = "m0"."FornecedorId"
ORDER BY "f"."Destaque" DESC, "f"."Id", "c"."Id", "t0"."Id", "m0"."IsPrimary" DESC
[13:07:43 INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[GuiaNoivas.Api.Dtos.FornecedorListDto, GuiaNoivas.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[13:07:43 INF] Executed action GuiaNoivas.Api.Controllers.FornecedoresController.GetAll (GuiaNoivas.Api) in 22.024ms
[13:07:43 INF] Executed endpoint 'GuiaNoivas.Api.Controllers.FornecedoresController.GetAll (GuiaNoivas.Api)'
[13:07:43 INF] HTTP GET /api/v1/fornecedores/all responded 200 in 29.9646 ms
[13:07:43 INF] Request finished HTTP/1.1 GET http://localhost/api/v1/fornecedores/all - 200 325 application/json; charset=utf-8 30.5687ms
[13:07:43 INF] Request starting HTTP/1.1 GET http://localhost/api/v1/fornecedores/ativos - null null
[13:07:43 INF] Executing endpoint 'GuiaNoivas.Api.Controllers.FornecedoresController.GetAtivos (GuiaNoivas.Api)'
[13:07:43 INF] Route matched with {action = "GetAtivos", controller = "Fornecedores"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAtivos() on controller GuiaNoivas.Api.Controllers.FornecedoresController (GuiaNoivas.Api).
[13:07:43 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT "f"."Id", "f"."Nome", "f"."Slug", "f"."Descricao", "f"."Cidade", "f"."Rating", "f"."Destaque", "f"."SeloFornecedor", "f"."Ativo", "c"."Id" IS NULL, "c"."Id", "c"."Nome", "c"."Slug", "t0"."Id", "m0"."Id", "m0"."Url", "m0"."Filename", "m0"."ContentType", "m0"."IsPrimary", "t0"."Url", "t0"."Filename", "t0"."ContentType", "t0"."IsPrimary", "t0"."c"
FROM "Fornecedores" AS "f"
LEFT JOIN "Categorias" AS "c" ON "f"."CategoriaId" = "c"."Id"
LEFT JOIN (
    SELECT "t"."Id", "t"."Url", "t"."Filename", "t"."ContentType", "t"."IsPrimary", "t"."c", "t"."FornecedorId"
    FROM (
        SELECT "m"."Id", "m"."Url", "m"."Filename", "m"."ContentType", "m"."IsPrimary", 1 AS "c", "m"."FornecedorId", ROW_NUMBER() OVER(PARTITION BY "m"."FornecedorId" ORDER BY "m"."IsPrimary" DESC) AS "row"
        FROM "Media" AS "m"
    ) AS "t"
    WHERE "t"."row" &lt;= 1
) AS "t0" ON "f"."Id" = "t0"."FornecedorId"
LEFT JOIN "Media" AS "m0" ON "f"."Id" = "m0"."FornecedorId"
WHERE "f"."Ativo"
ORDER BY "f"."Destaque" DESC, "f"."Id", "c"."Id", "t0"."Id", "m0"."IsPrimary" DESC
[13:07:43 INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[GuiaNoivas.Api.Dtos.FornecedorListDto, GuiaNoivas.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[13:07:43 INF] Executed action GuiaNoivas.Api.Controllers.FornecedoresController.GetAtivos (GuiaNoivas.Api) in 16.645ms
[13:07:43 INF] Executed endpoint 'GuiaNoivas.Api.Controllers.FornecedoresController.GetAtivos (GuiaNoivas.Api)'
[13:07:43 INF] HTTP GET /api/v1/fornecedores/ativos responded 200 in 22.9772 ms
[13:07:43 INF] Request finished HTTP/1.1 GET http://localhost/api/v1/fornecedores/ativos - 200 2 application/json; charset=utf-8 23.2311ms
[13:07:43 INF] Server codespaces-fe7b59:24478:52a46f91 caught stopping signal...
[13:07:43 INF] Server codespaces-fe7b59:24478:52a46f91 All dispatchers stopped
[13:07:43 INF] Server codespaces-fe7b59:24478:52a46f91 successfully reported itself as stopped in 16.2507 ms
[13:07:43 INF] Server codespaces-fe7b59:24478:52a46f91 has been stopped in total 97.468 ms
[13:07:43 INF] Server codespaces-fe7b59:24478:5ba984d1 caught stopping signal...
[13:07:44 INF] Server codespaces-fe7b59:24478:5ba984d1 caught stopped signal...
[13:07:44 INF] Server codespaces-fe7b59:24478:5ba984d1 All dispatchers stopped
[13:07:44 INF] Server codespaces-fe7b59:24478:5ba984d1 successfully reported itself as stopped in 17.05 ms
[13:07:44 INF] Server codespaces-fe7b59:24478:5ba984d1 has been stopped in total 824.2509 ms
[13:07:44 INF] Server codespaces-fe7b59:24478:9e6b814b caught stopping signal...
[13:07:45 INF] Server codespaces-fe7b59:24478:9e6b814b All dispatchers stopped
[13:07:45 INF] Server codespaces-fe7b59:24478:9e6b814b successfully reported itself as stopped in 16.4178 ms
[13:07:45 INF] Server codespaces-fe7b59:24478:9e6b814b has been stopped in total 455.8139 ms
[xUnit.net 00:00:08.59]   Finished:    GuiaNoivas.Api.Tests
</StdOut>
    </Output>
  </ResultSummary>
</TestRun>